<!DOCTYPE html>
<html lang="zh-CN">





<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="description" content>
  <meta name="author" content="miqilin">
  <meta name="keywords" content>
  <title>JS中一切都是对象吗？看这一篇就知道了 ~ 米淇淋的个人博客</title>

  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.10.2/css/all.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.8.9/css/mdb.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css">
<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


  <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css">

<link rel="stylesheet" href="/css/main.css">


  <link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css">


</head>


<body>
  <header style="height: 80vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>米淇淋的个人博客</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">关于</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background"
         style="background: url('https://cdn.jsdelivr.net/gh/miqilin21/static@master/img/aiticle.png')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  星期日, 七月 28日 2019
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    1.6k 字
                  </span>&nbsp;
                

                
                  
                  &nbsp;<i class="far fa-clock"></i>
                  <span class="post-count">
                      6 分钟
                  </span>&nbsp;
                

                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <p>当你刚开始学习JavaScript时，你是否有遇到许多书籍，教程以及那些说“JavaScript中的所有内容都是对象”的人？这算是一个JavaScript中老生常谈的话题了，虽然它并不是100％正确（JavaScript中不是所有都是对象），但其实这种说法又有那么一点说得过去，这可能有点自相矛盾。</p>
<p><img src="/images/object/1.jpg" srcset="/img/loading.gif" alt>     </p>
<p>想必有点疑惑吧，那么造成这种现象的原因是什么呢？接下来就由我一一道来。  </p>
<h4 id="历史原因"><a href="#历史原因" class="headerlink" title="历史原因"></a>历史原因</h4><p>说起一切都是对象这种说法的由来，就要好好提一下历史因素了。  </p>
<p>1995年，JavaScript诞生之年，Netscape公司（JavaScript的设计者）与Sun公司（Java语言的发明者和所有者）合作开发一种可以嵌入网页的脚本语言，将JavaScript的数据结构借鉴Java而设计，包括将值分成原始值和对象两大类。   </p>
<p><strong>Java中一切皆对象，但基本类型却不是对象，为了解决这个问题，Java让每个基本类型都对应了一个包装器类型</strong>。包装器类型将基本类型包装起来，添加了属性和方法，包装器类型即为对象，所以可以这么说Java中的一切都可以充当对象，不会说的那么绝对。  </p>
<p>因此借鉴了Java数据结构的JavaScript也同样在基本类型中各对应了一个包装器类型，JavaScript中的一切都可以充当对象，接下来将详细进行介绍。  </p>
<h4 id="原始类型与对象"><a href="#原始类型与对象" class="headerlink" title="原始类型与对象"></a>原始类型与对象</h4><p>JavaScript中值可以分为两大类：原始类型和对象。  </p>
<p><strong>定义</strong>  </p>
<p>在JavaScript中，有六种原始数据类型：  </p>
<ul>
<li>Boolean - <code>true</code> 或 <code>false</code></li>
<li>null - 用 <code>type of</code> 检验 <code>null</code> 数据类型时为 <code>Object</code> ，但它不是对象，这是JS的一个bug</li>
<li>undefined</li>
<li>number - JavaScript中的所有数字都是浮点数，没有整数</li>
<li>string</li>
<li>symbol (ES6)</li>
</ul>
<p>除去上面的原始数据类型，所有其他值都是对象。对象可以进一步分为：  </p>
<ul>
<li>原始值的包装类型：<code>Boolean</code>,<code>Number</code>,<code>String</code>. - 很少直接使用。  </li>
<li>以下类型生成的对象也可以通过构造函数创建：</li>
</ul>
<ol>
<li>[] 类同于 new Array()</li>
<li>{} 类同于 new Object()</li>
<li>function() {} 类同于 new Function()</li>
<li>/\s<em>/ 类同于 new RegExp(“\s</em>“) </li>
</ol>
<ul>
<li>Dates: new Date(“2011-12-24”)  </li>
</ul>
<p><strong>不同点</strong>  </p>
<p>第一个不同点： </p>
<p>原始类型没有附加方法; 所以你永远不会看到<code>undefined.toString（）</code>。 也正因为如此，原始类型是不可变的，因为它们没有附加的方法可以改变它：  </p>
<pre><code class="javascript">var s = &quot;boy&quot;;
s.bar = &quot;girl&quot;;
console.log(s.bar); // undefined
</code></pre>
<p>而默认情况下，对象是可变的，可以添加方法：</p>
<pre><code class="javascript">var obj = {};
obj.foo = 123;  
console.log(obj.foo); // 123  
</code></pre>
<p>第二个不同点：</p>
<p>此外，与作为引用存储的对象不同，原始类型作为值本身存储。 这在执行相等性检查时会产生影响：  </p>
<pre><code class="javascript">&quot;dog&quot; === &quot;dog&quot;; // true
14 === 14; // true

{} === {}; // false
[] === []; // false
(function () {}) === (function () {}); // false
</code></pre>
<p>原始类型按值存储，对象通过引用存储，存储地址也不同，原始类型直接存放在栈中，而对象是存放在堆里的，具体可以看之前写的关于<a href="https://luozongmin.com/2019/04/22/JavaScript%E7%B3%BB%E5%88%97%E4%B9%8B%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4/" target="_blank" rel="noopener">内存空间</a>这篇文章。  </p>
<h4 id="原始值及其包装器"><a href="#原始值及其包装器" class="headerlink" title="原始值及其包装器"></a>原始值及其包装器</h4><p>三个基本类型<code>string</code>，<code>number</code>和<code>boolean</code>，它们有时被当做包装器类型，并且在原始值和包装类型之间进行转换很简单：  </p>
<ul>
<li>原始类型 to 包装类型: <code>new String(&quot;abc&quot;)</code></li>
<li>包装类型 to 原始类型: <code>new String(&quot;abc&quot;).valueOf()</code> </li>
</ul>
<p>比如字符串<code>“abc”</code>之类的原始值与<code>new String（“abc”）</code>之类的包装器实例有根本上的不同。 例如（用<code>typeof</code>和<code>instanceof</code>判断时）：  </p>
<pre><code class="javascript">typeof &quot;pet&quot;;  //&quot;string&quot;
typeof new String(&quot;pet&quot;);  //&quot;object&quot;

&quot;pet&quot; instanceof String;  // false
new String(&quot;pet&quot;) instanceof String;  // true

&quot;pet&quot; === new String(&quot;pet&quot;);  // false
</code></pre>
<p>其实包装器实例就是一个对象，没办法在JavaScript中比较对象，甚至不能通过非严格相等 ==： </p>
<pre><code class="javascript">var a = new String(&quot;pet&quot;);
var b = new String(&quot;pet&quot;);
a == b;  // false
a == a;  // true
</code></pre>
<p>因此JavaScript中的一切都可以充当对象，而JavaScript中的一切都是对象这种说法是欠妥的。</p>
<h4 id="临时包装（Auto-Boxing）"><a href="#临时包装（Auto-Boxing）" class="headerlink" title="临时包装（Auto-Boxing）"></a>临时包装（Auto-Boxing）</h4><p>有趣的是，原始字符串和对象的构造函数都是<code>String</code>函数。 更有趣的是你可以在原始字符串上调用<code>.constructor</code>这个方法，可是之前说过原始类型不能有方法，咋回事呢？先看下面的代码： </p>
<pre><code class="javascript">var pet = new String(&quot;dog&quot;)
pet.constructor === String; // true
String(&quot;dog&quot;).constructor === String; // true
</code></pre>
<p>上面代码所发生的事情是一个叫做Auto-Boxing的过程，我觉得翻译成中文是“临时包装”比较适宜。 当您尝试在某些基本类型上调用属性或方法时，JavaScript首先将其转换为临时包装器对象，并访问其上的属性/方法，而不会影响原始属性。  </p>
<pre><code class="javascript">var pet = &quot;dog&quot;;
console.log(pet.length); // 3
pet === &quot;dog&quot;; // true
</code></pre>
<p>在上面的示例中，要访问属性<code>length</code>，JavaScript发生临时包装过程将<code>pet</code>转换为包装器对象，访问完包装器对象的<code>length</code>属性，然后将其丢弃。 这样做不会影响<code>pet</code>（<code>pet</code>仍然是一个原始字符串）。  </p>
<p>这也解释了为什么JavaScript在尝试将属性分配给基本类型时不会出问题，因为赋值是在该临时包装器对象上完成的，而不是基本类型本身，比如： </p>
<pre><code class="javascript">var foo = 42;
foo.bar = &quot;lzm&quot;; // 是在临时包装器对象上完成的赋值
foo.bar; // undefined
</code></pre>
<p>但原始类型<code>undefined</code>和<code>null</code>，都是没有包装器对象的，当你尝试赋予属性时，它会报错。 </p>
<pre><code class="javascript">var foo = null;
foo.bar = &quot;lzm&quot;; // Uncaught TypeError: Cannot set property &#39;bar&#39; of null
</code></pre>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>1.并非JavaScript中的所有内容都是对象，应该说所有内容都可以充当对象。</p>
<p>2.JavaScript中有6种原始类型。</p>
<p>3.所有不是原始类型的值都是一个对象。</p>
<p>4.字符串，布尔值和数字可以表示为基本类型，但作为包装器类型时也可以表示为对象。</p>
<p>5.由于名为autoboxing的JavaScript特性，某些原始类型（字符串，数字，布尔值）似乎表现得有点像对象。</p>
<p><strong>如果觉得文章对你有些许帮助，欢迎在<a href="https://github.com/miqilin21/miqilin21.github.io" target="_blank" rel="noopener">我的GitHub博客</a>点赞和关注，感激不尽！</strong></p>

            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/JavaScript">JavaScript</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/JavaScript">JavaScript</a>
                
                  <a class="hover-with-bg" href="/tags/%E5%AF%B9%E8%B1%A1">对象</a>
                
              </span>
            
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" rel="nofollow noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <!-- <a href="https://luozongmin.com" target="_self" rel="nofollow noopener"><b>miqilin</b></a>
    <i class="iconfont icon-love"></i> -->
    Copyright &copy; 米淇淋的个人博客 2020
    <!-- <b>2019</b> -->
    <br>
    Ported by <a href="https://github.com/miqilin21">miqilin</a> |
    欢迎 Star<iframe
            style="margin-left: 2px; margin-bottom:-5px;"
            frameborder="0" scrolling="0" width="91px" height="20px"
            src="https://ghbtns.com/github-btn.html?user=miqilin21&repo=miqilin21.github.io&type=star&count=true">
    </iframe>

    


    


    <!-- cnzz Analytics icon -->
    

  </div>
</footer>

<!-- SCRIPTS -->
<script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js" ></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js" ></script>
<script src="https://cdn.staticfile.org/mdbootstrap/4.8.9/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="https://cdn.staticfile.org/tocbot/4.8.0/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="https://cdn.staticfile.org/smooth-scroll/16.1.0/smooth-scroll.min.js" ></script>




<!-- Plugins -->


  

  

  

  

  <!-- cnzz Analytics -->
  



  <script src="https://cdn.staticfile.org/prettify/r298/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script src="https://cdn.staticfile.org/typed.js/2.0.10/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "JS中一切都是对象吗？看这一篇就知道了&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>











</body>
</html>
